-- RadiantHub UI Library
-- Mobile-Compatible UI Library with Modern Design
print("not ur dad")
local RadiantUI = {}
RadiantUI.__index = RadiantUI

-- Services
local Players = game:GetService("Players")
local TweenService = game:GetService("TweenService")
local UserInputService = game:GetService("UserInputService")
local RunService = game:GetService("RunService")
local CoreGui = game:GetService("CoreGui")

-- Library Info
RadiantUI.Version = "1.0.0"
RadiantUI.Author = "RadiantHub"

-- Default Configuration
local DefaultConfig = {
    Title = "RadiantHub",
    Size = {700, 450},
    Position = "Center", -- "Center", "TopLeft", "TopRight", "BottomLeft", "BottomRight"
    Theme = "Dark", -- "Dark", "Light"
    Acrylic = true,
    MinimizeKey = Enum.KeyCode.RightControl,
    Watermark = true,
    Notifications = true
}

-- Create new window
function RadiantUI:CreateWindow(config)
    config = config or {}
    
    -- Merge with defaults
    for key, value in pairs(DefaultConfig) do
        if config[key] == nil then
            config[key] = value
        end
    end
    
    local Window = {}
    Window.Config = config
    Window.Tabs = {}
    Window.Settings = {}
    Window.IsMinimized = false
    Window.CurrentTab = nil
    
    -- Create ScreenGui
    local screenGui = Instance.new("ScreenGui")
    screenGui.Name = "RadiantUI_" .. config.Title
    screenGui.ResetOnSpawn = false
    screenGui.Parent = CoreGui
    Window.ScreenGui = screenGui
    
    -- Calculate position
    local sizeX, sizeY = config.Size[1], config.Size[2]
    local position
    if config.Position == "Center" then
        position = UDim2.new(0.5, -sizeX/2, 0.5, -sizeY/2)
    elseif config.Position == "TopLeft" then
        position = UDim2.new(0, 50, 0, 50)
    elseif config.Position == "TopRight" then
        position = UDim2.new(1, -sizeX-50, 0, 50)
    elseif config.Position == "BottomLeft" then
        position = UDim2.new(0, 50, 1, -sizeY-50)
    elseif config.Position == "BottomRight" then
        position = UDim2.new(1, -sizeX-50, 1, -sizeY-50)
    else
        position = UDim2.new(0.5, -sizeX/2, 0.5, -sizeY/2)
    end
    
    -- Main Frame
    local mainFrame = Instance.new("Frame")
    mainFrame.Name = "MainFrame"
    mainFrame.Size = UDim2.new(0, sizeX, 0, sizeY)
    mainFrame.Position = position
    mainFrame.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
    mainFrame.BorderSizePixel = 0
    mainFrame.Parent = screenGui
    Window.MainFrame = mainFrame
    
    -- Add corner radius
    local mainCorner = Instance.new("UICorner")
    mainCorner.CornerRadius = UDim.new(0, 8)
    mainCorner.Parent = mainFrame
    
    -- Main gradient
    local mainGradient = Instance.new("UIGradient")
    mainGradient.Color = ColorSequence.new{
        ColorSequenceKeypoint.new(0, Color3.fromRGB(60, 60, 80)),
        ColorSequenceKeypoint.new(1, Color3.fromRGB(25, 25, 40))
    }
    mainGradient.Rotation = 135
    mainGradient.Parent = mainFrame
    
    -- Rainbow border
    local borderFrame = Instance.new("Frame")
    borderFrame.Name = "BorderFrame"
    borderFrame.Size = UDim2.new(1, 8, 1, 8)
    borderFrame.Position = UDim2.new(0, -4, 0, -4)
    borderFrame.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
    borderFrame.BorderSizePixel = 0
    borderFrame.ZIndex = 0
    borderFrame.Parent = mainFrame
    
    local borderCorner = Instance.new("UICorner")
    borderCorner.CornerRadius = UDim.new(0, 12)
    borderCorner.Parent = borderFrame
    
    local borderGradient = Instance.new("UIGradient")
    borderGradient.Color = ColorSequence.new{
        ColorSequenceKeypoint.new(0, Color3.fromRGB(255, 0, 150)),
        ColorSequenceKeypoint.new(0.2, Color3.fromRGB(0, 255, 255)),
        ColorSequenceKeypoint.new(0.4, Color3.fromRGB(0, 255, 0)),
        ColorSequenceKeypoint.new(0.6, Color3.fromRGB(255, 255, 0)),
        ColorSequenceKeypoint.new(0.8, Color3.fromRGB(255, 100, 0)),
        ColorSequenceKeypoint.new(1, Color3.fromRGB(255, 0, 150))
    }
    borderGradient.Rotation = 45
    borderGradient.Parent = borderFrame
    
    -- Title Bar
    local titleBar = Instance.new("Frame")
    titleBar.Name = "TitleBar"
    titleBar.Size = UDim2.new(1, 0, 0, 40)
    titleBar.Position = UDim2.new(0, 0, 0, 0)
    titleBar.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
    titleBar.BorderSizePixel = 0
    titleBar.Parent = mainFrame
    Window.TitleBar = titleBar
    
    local titleCorner = Instance.new("UICorner")
    titleCorner.CornerRadius = UDim.new(0, 8)
    titleCorner.Parent = titleBar
    
    -- Fix corner clipping
    local titleClip = Instance.new("Frame")
    titleClip.Size = UDim2.new(1, 0, 0, 20)
    titleClip.Position = UDim2.new(0, 0, 1, -20)
    titleClip.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
    titleClip.BorderSizePixel = 0
    titleClip.Parent = titleBar
    
    -- Title
    local titleLabel = Instance.new("TextLabel")
    titleLabel.Name = "TitleLabel"
    titleLabel.Size = UDim2.new(1, -100, 1, 0)
    titleLabel.Position = UDim2.new(0, 20, 0, 0)
    titleLabel.BackgroundTransparency = 1
    titleLabel.Text = config.Title
    titleLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
    titleLabel.TextSize = 18
    titleLabel.TextStrokeTransparency = 0
    titleLabel.TextStrokeColor3 = Color3.fromRGB(0, 0, 0)
    titleLabel.Font = Enum.Font.GothamBold
    titleLabel.TextXAlignment = Enum.TextXAlignment.Left
    titleLabel.Parent = titleBar
    
    -- Minimize button
    local minimizeButton = Instance.new("TextButton")
    minimizeButton.Name = "MinimizeButton"
    minimizeButton.Size = UDim2.new(0, 30, 0, 30)
    minimizeButton.Position = UDim2.new(1, -70, 0, 5)
    minimizeButton.BackgroundColor3 = Color3.fromRGB(100, 100, 100)
    minimizeButton.BorderSizePixel = 0
    minimizeButton.Text = "−"
    minimizeButton.TextColor3 = Color3.fromRGB(255, 255, 255)
    minimizeButton.TextSize = 18
    minimizeButton.Font = Enum.Font.GothamBold
    minimizeButton.Parent = titleBar
    
    local minCorner = Instance.new("UICorner")
    minCorner.CornerRadius = UDim.new(0, 4)
    minCorner.Parent = minimizeButton
    
    -- Close button
    local closeButton = Instance.new("TextButton")
    closeButton.Name = "CloseButton"
    closeButton.Size = UDim2.new(0, 30, 0, 30)
    closeButton.Position = UDim2.new(1, -35, 0, 5)
    closeButton.BackgroundColor3 = Color3.fromRGB(255, 50, 50)
    closeButton.BorderSizePixel = 0
    closeButton.Text = "×"
    closeButton.TextColor3 = Color3.fromRGB(255, 255, 255)
    closeButton.TextSize = 18
    closeButton.Font = Enum.Font.GothamBold
    closeButton.Parent = titleBar
    
    local closeCorner = Instance.new("UICorner")
    closeCorner.CornerRadius = UDim.new(0, 4)
    closeCorner.Parent = closeButton
    
    -- Left Sidebar
    local leftSidebar = Instance.new("Frame")
    leftSidebar.Name = "LeftSidebar"
    leftSidebar.Size = UDim2.new(0, 150, 1, -50)
    leftSidebar.Position = UDim2.new(0, 5, 0, 45)
    leftSidebar.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
    leftSidebar.BorderSizePixel = 0
    leftSidebar.Parent = mainFrame
    Window.LeftSidebar = leftSidebar
    
    local sidebarCorner = Instance.new("UICorner")
    sidebarCorner.CornerRadius = UDim.new(0, 6)
    sidebarCorner.Parent = leftSidebar
    
    -- Content Area
    local contentArea = Instance.new("Frame")
    contentArea.Name = "ContentArea"
    contentArea.Size = UDim2.new(1, -170, 1, -50)
    contentArea.Position = UDim2.new(0, 165, 0, 45)
    contentArea.BackgroundTransparency = 1
    contentArea.BorderSizePixel = 0
    contentArea.Parent = mainFrame
    Window.ContentArea = contentArea
    
    -- Left Section
    local leftSection = Instance.new("Frame")
    leftSection.Name = "LeftSection"
    leftSection.Size = UDim2.new(0.495, -5, 1, 0)
    leftSection.Position = UDim2.new(0, 0, 0, 0)
    leftSection.BackgroundColor3 = Color3.fromRGB(45, 45, 45)
    leftSection.BorderSizePixel = 1
    leftSection.BorderColor3 = Color3.fromRGB(70, 70, 70)
    leftSection.Parent = contentArea
    Window.LeftSection = leftSection
    
    local leftCorner = Instance.new("UICorner")
    leftCorner.CornerRadius = UDim.new(0, 6)
    leftCorner.Parent = leftSection
    
    -- Right Section
    local rightSection = Instance.new("Frame")
    rightSection.Name = "RightSection"
    rightSection.Size = UDim2.new(0.495, -5, 1, 0)
    rightSection.Position = UDim2.new(0.505, 0, 0, 0)
    rightSection.BackgroundColor3 = Color3.fromRGB(45, 45, 45)
    rightSection.BorderSizePixel = 1
    rightSection.BorderColor3 = Color3.fromRGB(70, 70, 70)
    rightSection.Parent = contentArea
    Window.RightSection = rightSection
    
    local rightCorner = Instance.new("UICorner")
    rightCorner.CornerRadius = UDim.new(0, 6)
    rightCorner.Parent = rightSection
    
    -- Headers
    local leftHeader = Instance.new("TextLabel")
    leftHeader.Name = "LeftHeader"
    leftHeader.Size = UDim2.new(1, 0, 0, 30)
    leftHeader.Position = UDim2.new(0, 0, 0, 5)
    leftHeader.BackgroundTransparency = 1
    leftHeader.Text = "FEATURES"
    leftHeader.TextColor3 = Color3.fromRGB(255, 255, 255)
    leftHeader.TextSize = 14
    leftHeader.Font = Enum.Font.GothamBold
    leftHeader.TextXAlignment = Enum.TextXAlignment.Center
    leftHeader.TextStrokeTransparency = 0
    leftHeader.TextStrokeColor3 = Color3.fromRGB(0, 0, 0)
    leftHeader.Parent = leftSection
    Window.LeftHeader = leftHeader
    
    local rightHeader = Instance.new("TextLabel")
    rightHeader.Name = "RightHeader"
    rightHeader.Size = UDim2.new(1, 0, 0, 30)
    rightHeader.Position = UDim2.new(0, 0, 0, 5)
    rightHeader.BackgroundTransparency = 1
    rightHeader.Text = "SETTINGS"
    rightHeader.TextColor3 = Color3.fromRGB(255, 255, 255)
    rightHeader.TextSize = 14
    rightHeader.Font = Enum.Font.GothamBold
    rightHeader.TextXAlignment = Enum.TextXAlignment.Center
    rightHeader.TextStrokeTransparency = 0
    rightHeader.TextStrokeColor3 = Color3.fromRGB(0, 0, 0)
    rightHeader.Parent = rightSection
    Window.RightHeader = rightHeader
    
    -- Content containers
    local leftContent = Instance.new("ScrollingFrame")
    leftContent.Name = "LeftContent"
    leftContent.Size = UDim2.new(1, -10, 1, -45)
    leftContent.Position = UDim2.new(0, 5, 0, 40)
    leftContent.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
    leftContent.BorderSizePixel = 0
    leftContent.ScrollBarThickness = 6
    leftContent.ScrollBarImageColor3 = Color3.fromRGB(80, 80, 80)
    leftContent.CanvasSize = UDim2.new(0, 0, 0, 0)
    leftContent.Parent = leftSection
    Window.LeftContent = leftContent
    
    local leftContentCorner = Instance.new("UICorner")
    leftContentCorner.CornerRadius = UDim.new(0, 4)
    leftContentCorner.Parent = leftContent
    
    local rightContent = Instance.new("ScrollingFrame")
    rightContent.Name = "RightContent"
    rightContent.Size = UDim2.new(1, -10, 1, -45)
    rightContent.Position = UDim2.new(0, 5, 0, 40)
    rightContent.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
    rightContent.BorderSizePixel = 0
    rightContent.ScrollBarThickness = 6
    rightContent.ScrollBarImageColor3 = Color3.fromRGB(80, 80, 80)
    rightContent.CanvasSize = UDim2.new(0, 0, 0, 0)
    rightContent.Parent = rightSection
    Window.RightContent = rightContent
    
    local rightContentCorner = Instance.new("UICorner")
    rightContentCorner.CornerRadius = UDim.new(0, 4)
    rightContentCorner.Parent = rightContent
    
    -- Minimized icon
    local minimizedIcon = Instance.new("ImageButton")
    minimizedIcon.Name = "MinimizedIcon"
    minimizedIcon.Size = UDim2.new(0, 50, 0, 50)
    minimizedIcon.Position = UDim2.new(0, 50, 0, 50)
    minimizedIcon.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
    minimizedIcon.BorderSizePixel = 2
    minimizedIcon.BorderColor3 = Color3.fromRGB(0, 150, 255)
    minimizedIcon.Image = "rbxassetid://139404696073599"
    minimizedIcon.ImageColor3 = Color3.fromRGB(255, 255, 255)
    minimizedIcon.ImageTransparency = 0.1
    minimizedIcon.Visible = false
    minimizedIcon.Parent = screenGui
    Window.MinimizedIcon = minimizedIcon
    
    local iconCorner = Instance.new("UICorner")
    iconCorner.CornerRadius = UDim.new(0, 8)
    iconCorner.Parent = minimizedIcon
    
    -- Initialize notifications if enabled
    if config.Notifications then
        RadiantUI.InitializeNotifications(Window)
    end
    
    -- Initialize watermark if enabled
    if config.Watermark then
        RadiantUI.InitializeWatermark(Window)
    end
    
    -- Initialize dragging
    RadiantUI.InitializeDragging(Window)
    
    -- Initialize minimize/restore
    RadiantUI.InitializeMinimize(Window)
    
    -- Initialize animations
    RadiantUI.InitializeAnimations(Window)
    
    -- Bind methods to Window object
    Window.CreateTab = function(name, icon, leftTitle, rightTitle)
        return RadiantUI.CreateTab(Window, name, icon, leftTitle, rightTitle)
    end
    
    Window.SelectTab = function(tab)
        return RadiantUI.SelectTab(Window, tab)
    end
    
    Window.Destroy = function()
        return RadiantUI.Destroy(Window)
    end
    
    -- Close button functionality
    closeButton.Activated:Connect(function()
        Window:Destroy()
    end)
    
    return Window
end

-- Initialize notification system
function RadiantUI:InitializeNotifications()
    local Window = self
    
    local notificationContainer = Instance.new("Frame")
    notificationContainer.Name = "NotificationContainer"
    notificationContainer.Size = UDim2.new(0, 300, 0, 200)
    notificationContainer.Position = UDim2.new(1, -310, 1, -210)
    notificationContainer.BackgroundTransparency = 1
    notificationContainer.Parent = Window.ScreenGui
    Window.NotificationContainer = notificationContainer
    
    Window.NotificationQueue = {}
    
    function Window:CreateNotification(title, message, duration)
        local notification = Instance.new("Frame")
        notification.Size = UDim2.new(1, 0, 0, 60)
        notification.Position = UDim2.new(1, 0, 1, -60 * (#self.NotificationQueue + 1))
        notification.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
        notification.BorderSizePixel = 0
        notification.Parent = self.NotificationContainer
        
        table.insert(self.NotificationQueue, notification)
        
        local notifCorner = Instance.new("UICorner")
        notifCorner.CornerRadius = UDim.new(0, 6)
        notifCorner.Parent = notification
        
        local titleLabel = Instance.new("TextLabel")
        titleLabel.Size = UDim2.new(1, -10, 0, 20)
        titleLabel.Position = UDim2.new(0, 8, 0, 8)
        titleLabel.BackgroundTransparency = 1
        titleLabel.Text = title
        titleLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
        titleLabel.TextSize = 12
        titleLabel.Font = Enum.Font.GothamBold
        titleLabel.TextXAlignment = Enum.TextXAlignment.Left
        titleLabel.TextStrokeTransparency = 0
        titleLabel.TextStrokeColor3 = Color3.fromRGB(0, 0, 0)
        titleLabel.Parent = notification
        
        local messageLabel = Instance.new("TextLabel")
        messageLabel.Size = UDim2.new(1, -10, 0, 25)
        messageLabel.Position = UDim2.new(0, 8, 0, 28)
        messageLabel.BackgroundTransparency = 1
        messageLabel.Text = message
        messageLabel.TextColor3 = Color3.fromRGB(200, 200, 200)
        messageLabel.TextSize = 10
        messageLabel.Font = Enum.Font.Gotham
        messageLabel.TextXAlignment = Enum.TextXAlignment.Left
        messageLabel.TextWrapped = true
        messageLabel.TextStrokeTransparency = 0
        messageLabel.TextStrokeColor3 = Color3.fromRGB(0, 0, 0)
        messageLabel.Parent = notification
        
        local slideIn = TweenService:Create(notification, TweenInfo.new(0.3, Enum.EasingStyle.Back, Enum.EasingDirection.Out), {
            Position = UDim2.new(0, 0, 1, -60 * #self.NotificationQueue)
        })
        slideIn:Play()
        
        spawn(function()
            wait(duration or 3)
            for i, notif in ipairs(self.NotificationQueue) do
                if notif == notification then
                    table.remove(self.NotificationQueue, i)
                    break
                end
            end
            
            local slideOut = TweenService:Create(notification, TweenInfo.new(0.3, Enum.EasingStyle.Quad, Enum.EasingDirection.In), {
                Position = UDim2.new(1, 0, notification.Position.Y.Scale, notification.Position.Y.Offset)
            })
            slideOut:Play()
            slideOut.Completed:Connect(function()
                notification:Destroy()
            end)
        end)
    end
end

-- Initialize watermark
function RadiantUI:InitializeWatermark()
    local Window = self
    
    local watermarkGui = Instance.new("ScreenGui")
    watermarkGui.Name = "RadiantUI_Watermark"
    watermarkGui.ResetOnSpawn = false
    watermarkGui.Parent = CoreGui
    Window.WatermarkGui = watermarkGui
    
    local watermarkFrame = Instance.new("Frame")
    watermarkFrame.Name = "WatermarkFrame"
    watermarkFrame.Size = UDim2.new(0, 250, 0, 25)
    watermarkFrame.Position = UDim2.new(1, -260, 0, 10)
    watermarkFrame.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
    watermarkFrame.BorderSizePixel = 0
    watermarkFrame.Parent = watermarkGui
    
    local watermarkCorner = Instance.new("UICorner")
    watermarkCorner.CornerRadius = UDim.new(0, 3)
    watermarkCorner.Parent = watermarkFrame
    
    -- Accent line
    local accentLine = Instance.new("Frame")
    accentLine.Name = "AccentLine"
    accentLine.Size = UDim2.new(0, 3, 1, 0)
    accentLine.Position = UDim2.new(0, 0, 0, 0)
    accentLine.BackgroundColor3 = Color3.fromRGB(220, 50, 47)
    accentLine.BorderSizePixel = 0
    accentLine.Parent = watermarkFrame
    
    local accentCorner = Instance.new("UICorner")
    accentCorner.CornerRadius = UDim.new(0, 3)
    accentCorner.Parent = accentLine
    
    -- Content frame
    local contentFrame = Instance.new("Frame")
    contentFrame.Size = UDim2.new(1, -8, 1, 0)
    contentFrame.Position = UDim2.new(0, 8, 0, 0)
    contentFrame.BackgroundTransparency = 1
    contentFrame.Parent = watermarkFrame
    
    -- RadiantUI label
    local radiantLabel = Instance.new("TextLabel")
    radiantLabel.Size = UDim2.new(0, 80, 1, 0)
    radiantLabel.Position = UDim2.new(0, 0, 0, 0)
    radiantLabel.BackgroundTransparency = 1
    radiantLabel.Text = "RadiantUI"
    radiantLabel.TextColor3 = Color3.fromRGB(255, 0, 128)
    radiantLabel.TextSize = 12
    radiantLabel.Font = Enum.Font.GothamBold
    radiantLabel.TextXAlignment = Enum.TextXAlignment.Left
    radiantLabel.TextYAlignment = Enum.TextYAlignment.Center
    radiantLabel.TextStrokeTransparency = 0
    radiantLabel.TextStrokeColor3 = Color3.fromRGB(0, 0, 0)
    radiantLabel.Parent = contentFrame
    
    -- FPS Counter
    local fpsLabel = Instance.new("TextLabel")
    fpsLabel.Size = UDim2.new(0, 50, 1, 0)
    fpsLabel.Position = UDim2.new(0, 90, 0, 0)
    fpsLabel.BackgroundTransparency = 1
    fpsLabel.Text = "60 FPS"
    fpsLabel.TextColor3 = Color3.fromRGB(200, 200, 200)
    fpsLabel.TextSize = 11
    fpsLabel.Font = Enum.Font.Gotham
    fpsLabel.TextXAlignment = Enum.TextXAlignment.Left
    fpsLabel.TextYAlignment = Enum.TextYAlignment.Center
    fpsLabel.TextStrokeTransparency = 0
    fpsLabel.TextStrokeColor3 = Color3.fromRGB(0, 0, 0)
    fpsLabel.Parent = contentFrame
    
    -- User info
    local userLabel = Instance.new("TextLabel")
    userLabel.Size = UDim2.new(1, -150, 1, 0)
    userLabel.Position = UDim2.new(0, 150, 0, 0)
    userLabel.BackgroundTransparency = 1
    userLabel.Text = Players.LocalPlayer.Name
    userLabel.TextColor3 = Color3.fromRGB(160, 160, 160)
    userLabel.TextSize = 11
    userLabel.Font = Enum.Font.Gotham
    userLabel.TextXAlignment = Enum.TextXAlignment.Left
    userLabel.TextYAlignment = Enum.TextYAlignment.Center
    userLabel.TextTruncate = Enum.TextTruncate.AtEnd
    userLabel.TextStrokeTransparency = 0
    userLabel.TextStrokeColor3 = Color3.fromRGB(0, 0, 0)
    userLabel.Parent = contentFrame
    
    -- FPS Update
    local function updateFPS()
        local lastTime = tick()
        local frameCount = 0
        
        RunService.Heartbeat:Connect(function()
            frameCount = frameCount + 1
            local currentTime = tick()
            if currentTime - lastTime >= 1 then
                local fps = math.floor(frameCount / (currentTime - lastTime))
                fpsLabel.Text = fps .. " FPS"
                frameCount = 0
                lastTime = currentTime
            end
        end)
    end
    
    updateFPS()
end

-- Initialize dragging functionality
function RadiantUI:InitializeDragging()
    local Window = self
    local dragging = false
    local dragStart = nil
    local startPos = nil
    
    Window.TitleBar.InputBegan:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 or 
           input.UserInputType == Enum.UserInputType.Touch then
            dragging = true
            dragStart = input.Position
            startPos = Window.MainFrame.Position
        end
    end)
    
    UserInputService.InputChanged:Connect(function(input)
        if dragging and (input.UserInputType == Enum.UserInputType.MouseMovement or 
                         input.UserInputType == Enum.UserInputType.Touch) then
            local delta = input.Position - dragStart
            Window.MainFrame.Position = UDim2.new(startPos.X.Scale, startPos.X.Offset + delta.X, startPos.Y.Scale, startPos.Y.Offset + delta.Y)
        end
    end)
    
    UserInputService.InputEnded:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 or 
           input.UserInputType == Enum.UserInputType.Touch then
            dragging = false
        end
    end)
    
    -- Minimized icon dragging
    local iconDragging = false
    local iconDragStart = nil
    local iconStartPos = nil
    
    Window.MinimizedIcon.InputBegan:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 or 
           input.UserInputType == Enum.UserInputType.Touch then
            iconDragging = true
            iconDragStart = input.Position
            iconStartPos = Window.MinimizedIcon.Position
        end
    end)
    
    UserInputService.InputChanged:Connect(function(input)
        if iconDragging and (input.UserInputType == Enum.UserInputType.MouseMovement or 
                             input.UserInputType == Enum.UserInputType.Touch) then
            local delta = input.Position - iconDragStart
            Window.MinimizedIcon.Position = UDim2.new(iconStartPos.X.Scale, iconStartPos.X.Offset + delta.X, iconStartPos.Y.Scale, iconStartPos.Y.Offset + delta.Y)
        end
    end)
    
    UserInputService.InputEnded:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 or 
           input.UserInputType == Enum.UserInputType.Touch then
            iconDragging = false
        end
    end)
end

-- Initialize minimize/restore functionality
function RadiantUI:InitializeMinimize()
    local Window = self
    
    local function minimizeUI()
        Window.IsMinimized = true
        Window.MainFrame.Visible = false
        Window.MinimizedIcon.Visible = true
    end
    
    local function restoreUI()
        Window.IsMinimized = false
        Window.MainFrame.Visible = true
        Window.MinimizedIcon.Visible = false
    end
    
    Window.MainFrame.TitleBar.MinimizeButton.Activated:Connect(function()
        minimizeUI()
    end)
    
    Window.MinimizedIcon.Activated:Connect(function()
        restoreUI()
    end)
    
    -- Keyboard shortcut
    UserInputService.InputBegan:Connect(function(input, gameProcessed)
        if not gameProcessed and input.KeyCode == Window.Config.MinimizeKey then
            if Window.IsMinimized then
                restoreUI()
            else
                minimizeUI()
            end
        end
    end)
end

-- Initialize animations
function RadiantUI:InitializeAnimations()
    local Window = self
    
    -- Rainbow border animation
    local function animateGradient()
        local borderGradient = Window.MainFrame.BorderFrame:FindFirstChild("UIGradient")
        if borderGradient then
            local tweenInfo = TweenInfo.new(3, Enum.EasingStyle.Linear, Enum.EasingDirection.InOut, -1)
            local tween = TweenService:Create(borderGradient, tweenInfo, {Rotation = 405})
            tween:Play()
        end
    end
    
    -- Rainbow text animation
    local function animateRGBText()
        if Window.WatermarkGui then
            local radiantLabel = Window.WatermarkGui.WatermarkFrame:FindFirstChild("RadiantLabel")
            if radiantLabel then
                local hue = 0
                RunService.Heartbeat:Connect(function()
                    hue = (hue + 2) % 360
                    local r = math.floor(127.5 * (1 + math.sin(math.rad(hue))))
                    local g = math.floor(127.5 * (1 + math.sin(math.rad(hue + 120))))
                    local b = math.floor(127.5 * (1 + math.sin(math.rad(hue + 240))))
                    radiantLabel.TextColor3 = Color3.fromRGB(r, g, b)
                end)
            end
        end
    end
    
    animateGradient()
    animateRGBText()
end

-- Create a new tab
function RadiantUI.CreateTab(Window, name, icon, leftTitle, rightTitle)
    local Window = self
    local Tab = {}
    Tab.Name = name
    Tab.Icon = icon or "⌂"
    Tab.LeftTitle = leftTitle or "FEATURES"
    Tab.RightTitle = rightTitle or "SETTINGS"
    Tab.LeftElements = {}
    Tab.RightElements = {}
    Tab.IsActive = false
    
    -- Create tab button
    local tabIndex = #Window.Tabs
    local container = Instance.new("Frame")
    container.Name = name .. "Container"
    container.Size = UDim2.new(1, 0, 0, 45)
    container.Position = UDim2.new(0, -10, 0, 15 + (tabIndex * 45))
    container.BackgroundTransparency = 1
    container.Parent = Window.LeftSidebar
    
    local indicator = Instance.new("Frame")
    indicator.Name = "Indicator"
    indicator.Size = UDim2.new(0, 3, 0, 25)
    indicator.Position = UDim2.new(0, 10, 0.5, -12.5)
    indicator.BackgroundColor3 = Color3.fromRGB(220, 50, 47)
    indicator.BorderSizePixel = 0
    indicator.Visible = false
    indicator.Parent = container
    
    local indicatorCorner = Instance.new("UICorner")
    indicatorCorner.CornerRadius = UDim.new(0, 2)
    indicatorCorner.Parent = indicator
    
    local button = Instance.new("TextButton")
    button.Name = name .. "Tab"
    button.Size = UDim2.new(1, -10, 1, 0)
    button.Position = UDim2.new(0, 10, 0, 0)
    button.BackgroundTransparency = 1
    button.BorderSizePixel = 0
    button.Text = ""
    button.Parent = container
    
    local iconLabel = Instance.new("TextLabel")
    iconLabel.Name = "Icon"
    iconLabel.Size = UDim2.new(0, 16, 0, 16)
    iconLabel.Position = UDim2.new(0, 12, 0.5, -8)
    iconLabel.BackgroundTransparency = 1
    iconLabel.Text = icon
    iconLabel.TextColor3 = Color3.fromRGB(160, 160, 160)
    iconLabel.TextSize = 14
    iconLabel.Font = Enum.Font.Gotham
    iconLabel.TextXAlignment = Enum.TextXAlignment.Center
    iconLabel.TextYAlignment = Enum.TextYAlignment.Center
    iconLabel.TextStrokeTransparency = 0
    iconLabel.TextStrokeColor3 = Color3.fromRGB(0, 0, 0)
    iconLabel.Parent = button
    
    local separator = Instance.new("Frame")
    separator.Name = "Separator"
    separator.Size = UDim2.new(0, 1, 0, 16)
    separator.Position = UDim2.new(0, 34, 0.5, -8)
    separator.BackgroundColor3 = Color3.fromRGB(80, 80, 80)
    separator.BorderSizePixel = 0
    separator.Parent = button
    
    local textLabel = Instance.new("TextLabel")
    textLabel.Name = "Text"
    textLabel.Size = UDim2.new(1, -45, 1, 0)
    textLabel.Position = UDim2.new(0, 40, 0, 0)
    textLabel.BackgroundTransparency = 1
    textLabel.Text = name
    textLabel.TextColor3 = Color3.fromRGB(160, 160, 160)
    textLabel.TextSize = 15
    textLabel.Font = Enum.Font.GothamSemibold
    textLabel.TextXAlignment = Enum.TextXAlignment.Left
    textLabel.TextYAlignment = Enum.TextYAlignment.Center
    textLabel.TextStrokeTransparency = 0
    textLabel.TextStrokeColor3 = Color3.fromRGB(0, 0, 0)
    textLabel.Parent = button
    
    Tab.Container = container
    Tab.Indicator = indicator
    Tab.IconLabel = iconLabel
    Tab.TextLabel = textLabel
    Tab.Separator = separator
    
    -- Tab selection logic
    button.Activated:Connect(function()
        RadiantUI.SelectTab(Window, Tab)
    end)
    
    table.insert(Window.Tabs, Tab)
    
    -- If this is the first tab, make it active
    if #Window.Tabs == 1 then
        RadiantUI.SelectTab(Window, Tab)
    end
    
    return Tab
end

-- Select a tab
function RadiantUI.SelectTab(Window, selectedTab)
    local Window = self
    
    -- Deactivate all tabs
    for _, tab in ipairs(Window.Tabs) do
        tab.IsActive = false
        tab.Indicator.Visible = false
        tab.IconLabel.TextColor3 = Color3.fromRGB(160, 160, 160)
        tab.TextLabel.TextColor3 = Color3.fromRGB(160, 160, 160)
        tab.Separator.BackgroundColor3 = Color3.fromRGB(80, 80, 80)
    end
    
    -- Activate selected tab
    selectedTab.IsActive = true
    selectedTab.Indicator.Visible = true
    selectedTab.IconLabel.TextColor3 = Color3.fromRGB(220, 50, 47)
    selectedTab.TextLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
    selectedTab.Separator.BackgroundColor3 = Color3.fromRGB(220, 50, 47)
    
    -- Update headers
    Window.LeftHeader.Text = selectedTab.LeftTitle
    Window.RightHeader.Text = selectedTab.RightTitle
    
    -- Clear content
    for _, child in ipairs(Window.LeftContent:GetChildren()) do
        if child:IsA("Frame") then
            child:Destroy()
        end
    end
    
    for _, child in ipairs(Window.RightContent:GetChildren()) do
        if child:IsA("Frame") then
            child:Destroy()
        end
    end
    
    -- Show tab content
    local leftY = 10
    local rightY = 10
    
    for _, element in ipairs(selectedTab.LeftElements) do
        element.Position = UDim2.new(0, 0, 0, leftY)
        element.Parent = Window.LeftContent
        leftY = leftY + element.Size.Y.Offset + 5
    end
    
    for _, element in ipairs(selectedTab.RightElements) do
        element.Position = UDim2.new(0, 0, 0, rightY)
        element.Parent = Window.RightContent
        rightY = rightY + element.Size.Y.Offset + 5
    end
    
    -- Update canvas sizes
    Window.LeftContent.CanvasSize = UDim2.new(0, 0, 0, leftY + 10)
    Window.RightContent.CanvasSize = UDim2.new(0, 0, 0, rightY + 10)
    
    Window.CurrentTab = selectedTab
end

-- Create toggle/checkbox
function RadiantUI.CreateToggle(Window, tab, side, text, default, callback)
    local element = RadiantUI.CreateToggleElement(text, default, callback)
    
    if side == "left" then
        table.insert(tab.LeftElements, element)
    else
        table.insert(tab.RightElements, element)
    end
    
    -- Refresh tab if it's currently active
    if tab.IsActive then
        RadiantUI.SelectTab(Window, tab)
    end
    
    return element
end

-- Create toggle element
function RadiantUI.CreateToggleElement(text, default, callback)
    local container = Instance.new("Frame")
    container.Name = text .. "Container"
    container.Size = UDim2.new(1, -10, 0, 30)
    container.BackgroundTransparency = 1
    
    local textLabel = Instance.new("TextLabel")
    textLabel.Size = UDim2.new(1, -35, 1, 0)
    textLabel.Position = UDim2.new(0, 10, 0, 0)
    textLabel.BackgroundTransparency = 1
    textLabel.Text = text
    textLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
    textLabel.TextSize = 16
    textLabel.Font = Enum.Font.Gotham
    textLabel.TextXAlignment = Enum.TextXAlignment.Left
    textLabel.TextYAlignment = Enum.TextYAlignment.Center
    textLabel.TextStrokeTransparency = 0
    textLabel.TextStrokeColor3 = Color3.fromRGB(0, 0, 0)
    textLabel.Parent = container
    
    local checkbox = Instance.new("TextButton")
    checkbox.Size = UDim2.new(0, 20, 0, 20)
    checkbox.Position = UDim2.new(1, -25, 0.5, -10)
    checkbox.BackgroundColor3 = Color3.fromRGB(70, 70, 70)
    checkbox.BorderSizePixel = 1
    checkbox.BorderColor3 = Color3.fromRGB(150, 150, 150)
    checkbox.Text = ""
    checkbox.Parent = container
    
    local checkCorner = Instance.new("UICorner")
    checkCorner.CornerRadius = UDim.new(0, 4)
    checkCorner.Parent = checkbox
    
    local checkmark = Instance.new("TextLabel")
    checkmark.Size = UDim2.new(1, 0, 1, 0)
    checkmark.BackgroundTransparency = 1
    checkmark.Text = "✓"
    checkmark.TextColor3 = Color3.fromRGB(0, 255, 100)
    checkmark.TextSize = 14
    checkmark.Font = Enum.Font.GothamBold
    checkmark.TextStrokeTransparency = 0
    checkmark.TextStrokeColor3 = Color3.fromRGB(0, 0, 0)
    checkmark.Visible = false
    checkmark.Parent = checkbox
    
    local isEnabled = default or false
    
    local function updateToggle()
        if isEnabled then
            checkbox.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
            checkbox.BorderColor3 = Color3.fromRGB(0, 255, 100)
            checkmark.Visible = true
            textLabel.TextColor3 = Color3.fromRGB(0, 255, 100)
        else
            checkbox.BackgroundColor3 = Color3.fromRGB(70, 70, 70)
            checkbox.BorderColor3 = Color3.fromRGB(150, 150, 150)
            checkmark.Visible = false
            textLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
        end
    end
    
    updateToggle()
    
    checkbox.Activated:Connect(function()
        isEnabled = not isEnabled
        updateToggle()
        if callback then
            callback(isEnabled)
        end
    end)
    
    return container
end

-- Create slider
function RadiantUI.CreateSlider(Window, tab, side, text, min, max, default, callback)
    local element = RadiantUI.CreateSliderElement(text, min, max, default, callback)
    
    if side == "left" then
        table.insert(tab.LeftElements, element)
    else
        table.insert(tab.RightElements, element)
    end
    
    -- Refresh tab if it's currently active
    if tab.IsActive then
        RadiantUI.SelectTab(Window, tab)
    end
    
    return element
end

-- Create slider element
function RadiantUI.CreateSliderElement(text, min, max, default, callback)
    local container = Instance.new("Frame")
    container.Name = text .. "Container"
    container.Size = UDim2.new(1, -10, 0, 40)
    container.BackgroundTransparency = 1
    
    local textLabel = Instance.new("TextLabel")
    textLabel.Size = UDim2.new(0.6, 0, 0, 20)
    textLabel.Position = UDim2.new(0, 10, 0, 0)
    textLabel.BackgroundTransparency = 1
    textLabel.Text = text
    textLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
    textLabel.TextSize = 12
    textLabel.Font = Enum.Font.Gotham
    textLabel.TextXAlignment = Enum.TextXAlignment.Left
    textLabel.TextStrokeTransparency = 0
    textLabel.TextStrokeColor3 = Color3.fromRGB(0, 0, 0)
    textLabel.Parent = container
    
    local currentValue = default or math.floor((min + max) / 2)
    
    local valueLabel = Instance.new("TextLabel")
    valueLabel.Size = UDim2.new(0.3, 0, 0, 20)
    valueLabel.Position = UDim2.new(0.7, 0, 0, 0)
    valueLabel.BackgroundTransparency = 1
    valueLabel.Text = tostring(currentValue)
    valueLabel.TextColor3 = Color3.fromRGB(200, 200, 200)
    valueLabel.TextSize = 12
    valueLabel.Font = Enum.Font.Gotham
    valueLabel.TextXAlignment = Enum.TextXAlignment.Right
    valueLabel.TextStrokeTransparency = 0
    valueLabel.TextStrokeColor3 = Color3.fromRGB(0, 0, 0)
    valueLabel.Parent = container
    
    local sliderBG = Instance.new("TextButton")
    sliderBG.Size = UDim2.new(1, -20, 0, 8)
    sliderBG.Position = UDim2.new(0, 10, 1, -12)
    sliderBG.BackgroundColor3 = Color3.fromRGB(70, 70, 70)
    sliderBG.BorderSizePixel = 1
    sliderBG.BorderColor3 = Color3.fromRGB(50, 50, 50)
    sliderBG.Text = ""
    sliderBG.Parent = container
    
    local sliderCorner = Instance.new("UICorner")
    sliderCorner.CornerRadius = UDim.new(0, 4)
    sliderCorner.Parent = sliderBG
    
    local sliderFill = Instance.new("Frame")
    local initPos = (currentValue - min) / (max - min)
    sliderFill.Size = UDim2.new(initPos, 0, 1, 0)
    sliderFill.Position = UDim2.new(0, 0, 0, 0)
    sliderFill.BackgroundColor3 = Color3.fromRGB(220, 50, 47)
    sliderFill.BorderSizePixel = 0
    sliderFill.Parent = sliderBG
    
    local fillCorner = Instance.new("UICorner")
    fillCorner.CornerRadius = UDim.new(0, 4)
    fillCorner.Parent = sliderFill
    
    local sliderHandle = Instance.new("TextButton")
    sliderHandle.Size = UDim2.new(0, 12, 0, 12)
    sliderHandle.Position = UDim2.new(initPos, -6, 0.5, -6)
    sliderHandle.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
    sliderHandle.BorderSizePixel = 1
    sliderHandle.BorderColor3 = Color3.fromRGB(200, 200, 200)
    sliderHandle.Text = ""
    sliderHandle.Parent = sliderBG
    
    local handleCorner = Instance.new("UICorner")
    handleCorner.CornerRadius = UDim.new(0.5, 0)
    handleCorner.Parent = sliderHandle
    
    local isDragging = false
    
    local function updateSlider(inputPos)
        local pos = math.clamp((inputPos.X - sliderBG.AbsolutePosition.X) / sliderBG.AbsoluteSize.X, 0, 1)
        local value = math.floor(min + (max - min) * pos)
        currentValue = value
        
        sliderFill.Size = UDim2.new(pos, 0, 1, 0)
        sliderHandle.Position = UDim2.new(pos, -6, 0.5, -6)
        valueLabel.Text = tostring(value)
        
        if callback then
            callback(value)
        end
    end
    
    sliderHandle.InputBegan:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 or 
           input.UserInputType == Enum.UserInputType.Touch then
            isDragging = true
            updateSlider(input.Position)
        end
    end)
    
    sliderBG.InputBegan:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 or 
           input.UserInputType == Enum.UserInputType.Touch then
            updateSlider(input.Position)
        end
    end)
    
    UserInputService.InputChanged:Connect(function(input)
        if isDragging and (input.UserInputType == Enum.UserInputType.MouseMovement or 
                          input.UserInputType == Enum.UserInputType.Touch) then
            updateSlider(input.Position)
        end
    end)
    
    UserInputService.InputEnded:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 or 
           input.UserInputType == Enum.UserInputType.Touch then
            isDragging = false
        end
    end)
    
    return container
end

-- Create dropdown
function RadiantUI.CreateDropdown(Window, tab, side, text, options, default, callback)
    local element = RadiantUI.CreateDropdownElement(text, options, default, callback)
    
    if side == "left" then
        table.insert(tab.LeftElements, element)
    else
        table.insert(tab.RightElements, element)
    end
    
    -- Refresh tab if it's currently active
    if tab.IsActive then
        RadiantUI.SelectTab(Window, tab)
    end
    
    return element
end

-- Create dropdown element
function RadiantUI.CreateDropdownElement(text, options, default, callback)
    local container = Instance.new("Frame")
    container.Name = text .. "Container"
    container.Size = UDim2.new(1, -10, 0, 35)
    container.BackgroundTransparency = 1
    
    local textLabel = Instance.new("TextLabel")
    textLabel.Size = UDim2.new(0.4, 0, 1, 0)
    textLabel.Position = UDim2.new(0, 10, 0, 0)
    textLabel.BackgroundTransparency = 1
    textLabel.Text = text
    textLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
    textLabel.TextStrokeTransparency = 0
    textLabel.TextStrokeColor3 = Color3.fromRGB(0, 0, 0)
    textLabel.TextSize = 12
    textLabel.Font = Enum.Font.Gotham
    textLabel.TextXAlignment = Enum.TextXAlignment.Left
    textLabel.TextYAlignment = Enum.TextYAlignment.Center
    textLabel.Parent = container
    
    local currentIndex = default or 1
    
    local dropdown = Instance.new("TextButton")
    dropdown.Size = UDim2.new(0.55, -10, 0, 25)
    dropdown.Position = UDim2.new(0.45, 0, 0.5, -12.5)
    dropdown.BackgroundColor3 = Color3.fromRGB(70, 70, 70)
    dropdown.BorderSizePixel = 1
    dropdown.BorderColor3 = Color3.fromRGB(100, 100, 100)
    dropdown.Text = options[currentIndex] .. " ▼"
    dropdown.TextColor3 = Color3.fromRGB(255, 255, 255)
    dropdown.TextStrokeTransparency = 0
    dropdown.TextStrokeColor3 = Color3.fromRGB(0, 0, 0)
    dropdown.TextSize = 11
    dropdown.Font = Enum.Font.Gotham
    dropdown.ZIndex = 2
    dropdown.Parent = container
    
    local dropCorner = Instance.new("UICorner")
    dropCorner.CornerRadius = UDim.new(0, 4)
    dropCorner.Parent = dropdown
    
    -- Dropdown menu container
    local dropdownMenu = Instance.new("Frame")
    dropdownMenu.Name = "DropdownMenu"
    dropdownMenu.Size = UDim2.new(0.55, -10, 0, #options * 25 + 30)
    dropdownMenu.Position = UDim2.new(0.45, 0, 1, 0)
    dropdownMenu.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
    dropdownMenu.BorderSizePixel = 1
    dropdownMenu.BorderColor3 = Color3.fromRGB(100, 100, 100)
    dropdownMenu.Visible = false
    dropdownMenu.ZIndex = 3
    dropdownMenu.Parent = container
    
    local menuCorner = Instance.new("UICorner")
    menuCorner.CornerRadius = UDim.new(0, 4)
    menuCorner.Parent = dropdownMenu
    
    -- Search box
    local searchBox = Instance.new("TextBox")
    searchBox.Name = "SearchBox"
    searchBox.Size = UDim2.new(1, -10, 0, 25)
    searchBox.Position = UDim2.new(0, 5, 0, 2.5)
    searchBox.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
    searchBox.BorderSizePixel = 1
    searchBox.BorderColor3 = Color3.fromRGB(100, 100, 100)
    searchBox.Text = ""
    searchBox.PlaceholderText = "Search..."
    searchBox.PlaceholderColor3 = Color3.fromRGB(150, 150, 150)
    searchBox.TextColor3 = Color3.fromRGB(255, 255, 255)
    searchBox.TextStrokeTransparency = 0
    searchBox.TextStrokeColor3 = Color3.fromRGB(0, 0, 0)
    searchBox.TextSize = 10
    searchBox.Font = Enum.Font.Gotham
    searchBox.ZIndex = 4
    searchBox.Parent = dropdownMenu
    
    local searchCorner = Instance.new("UICorner")
    searchCorner.CornerRadius = UDim.new(0, 4)
    searchCorner.Parent = searchBox
    
    -- Scrolling frame for options
    local optionsFrame = Instance.new("ScrollingFrame")
    optionsFrame.Name = "OptionsFrame"
    optionsFrame.Size = UDim2.new(1, 0, 1, -30)
    optionsFrame.Position = UDim2.new(0, 0, 0, 30)
    optionsFrame.BackgroundTransparency = 1
    optionsFrame.BorderSizePixel = 0
    optionsFrame.ScrollBarThickness = 6
    optionsFrame.ZIndex = 4
    optionsFrame.Parent = dropdownMenu
    
    local isOpen = false
    local optionButtons = {}
    
    -- Create option buttons
    for i, option in ipairs(options) do
        local optionButton = Instance.new("TextButton")
        optionButton.Size = UDim2.new(1, 0, 0, 25)
        optionButton.Position = UDim2.new(0, 0, 0, (i-1) * 25)
        optionButton.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
        optionButton.BorderSizePixel = 0
        optionButton.Text = option
        optionButton.TextColor3 = Color3.fromRGB(255, 255, 255)
        optionButton.TextStrokeTransparency = 0
        optionButton.TextStrokeColor3 = Color3.fromRGB(0, 0, 0)
        optionButton.TextSize = 11
        optionButton.Font = Enum.Font.Gotham
        optionButton.ZIndex = 5
        optionButton.Parent = optionsFrame
        
        table.insert(optionButtons, {button = optionButton, text = option, index = i})
        
        -- Hover effect for desktop
        optionButton.MouseEnter:Connect(function()
            optionButton.BackgroundColor3 = Color3.fromRGB(0, 150, 255)
        end)
        
        optionButton.MouseLeave:Connect(function()
            optionButton.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
        end)
        
        -- Selection
        optionButton.Activated:Connect(function()
            dropdown.Text = option .. " ▼"
            currentIndex = i
            dropdownMenu.Visible = false
            isOpen = false
            if callback then
                callback(option, i)
            end
        end)
    end
    
    -- Update canvas size
    optionsFrame.CanvasSize = UDim2.new(0, 0, 0, #options * 25)
    
    -- Search functionality
    searchBox:GetPropertyChangedSignal("Text"):Connect(function()
        local searchTerm = searchBox.Text:lower()
        local visibleCount = 0
        
        for _, optionData in ipairs(optionButtons) do
            if searchTerm == "" or optionData.text:lower():find(searchTerm) then
                optionData.button.Visible = true
                optionData.button.Position = UDim2.new(0, 0, 0, visibleCount * 25)
                visibleCount = visibleCount + 1
            else
                optionData.button.Visible = false
            end
        end
        
        -- Update canvas size based on visible options
        optionsFrame.CanvasSize = UDim2.new(0, 0, 0, visibleCount * 25)
        dropdownMenu.Size = UDim2.new(0.55, -10, 0, math.min(visibleCount * 25 + 30, 200))
    end)
    
    -- Toggle dropdown
    dropdown.Activated:Connect(function()
        isOpen = not isOpen
        dropdownMenu.Visible = isOpen
        if isOpen then
            dropdown.Text = options[currentIndex] .. " ▲"
            searchBox.Text = ""
            searchBox:CaptureFocus()
        else
            dropdown.Text = options[currentIndex] .. " ▼"
        end
    end)
    
    return container
end

-- Destroy window
function RadiantUI.Destroy(Window)
    if Window.ScreenGui then
        Window.ScreenGui:Destroy()
    end
    if Window.WatermarkGui then
        Window.WatermarkGui:Destroy()
    end
end

-- Return the library
return RadiantUI
