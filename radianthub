local Players = game:GetService("Players")
local TweenService = game:GetService("TweenService")
local UserInputService = game:GetService("UserInputService")

local player = Players.LocalPlayer
local playerGui = player:WaitForChild("PlayerGui")

local isMobile = UserInputService.TouchEnabled and not UserInputService.KeyboardEnabled
local scaleFactor = isMobile and 0.7 or 1
local frameWidth = 300 * scaleFactor
local frameHeight = 400 * scaleFactor

local screenGui = Instance.new("ScreenGui")
screenGui.Name = "LoginStyleGui"
screenGui.Parent = playerGui

local mainFrame = Instance.new("Frame")
mainFrame.Name = "LoginFrame"
mainFrame.Size = UDim2.new(0, frameWidth, 0, frameHeight)
mainFrame.Position = UDim2.new(0.5, -frameWidth/2, 0.5, -frameHeight/2)
mainFrame.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
mainFrame.BorderSizePixel = 0
mainFrame.Parent = screenGui

local mainGradient = Instance.new("UIGradient")
mainGradient.Color = ColorSequence.new({
    ColorSequenceKeypoint.new(0, Color3.fromRGB(50, 50, 50)),
    ColorSequenceKeypoint.new(0.7, Color3.fromRGB(80, 40, 40)),
    ColorSequenceKeypoint.new(1, Color3.fromRGB(215, 35, 36))
})
mainGradient.Rotation = 180
mainGradient.Parent = mainFrame

local corner = Instance.new("UICorner")
corner.CornerRadius = UDim.new(0, 12)
corner.Parent = mainFrame

local logoContainer = Instance.new("Frame")
logoContainer.Size = UDim2.new(1, 0, 0, 100 * scaleFactor)
logoContainer.Position = UDim2.new(0, 0, 0, 20 * scaleFactor)
logoContainer.BackgroundTransparency = 1
logoContainer.Parent = mainFrame

local logoLabel = Instance.new("ImageLabel")
logoLabel.Size = UDim2.new(0, 120 * scaleFactor, 0, 120 * scaleFactor)
logoLabel.Position = UDim2.new(0.5, -60 * scaleFactor, 0, 10 * scaleFactor)
logoLabel.BackgroundTransparency = 1
logoLabel.Image = "rbxassetid://122182375236420"
logoLabel.ScaleType = Enum.ScaleType.Fit
logoLabel.BorderSizePixel = 0
logoLabel.Parent = logoContainer

local titleLabel = Instance.new("TextLabel")
titleLabel.Size = UDim2.new(1, 0, 0, 40 * scaleFactor)
titleLabel.Position = UDim2.new(0, 0, 0, 160 * scaleFactor)
titleLabel.BackgroundTransparency = 1
titleLabel.Text = "Please enter your credentials to continue."
titleLabel.TextColor3 = Color3.fromRGB(220, 220, 220)
titleLabel.TextSize = 16 * scaleFactor
titleLabel.Font = Enum.Font.SourceSans
titleLabel.TextWrapped = true
titleLabel.Parent = mainFrame

local inputContainer = Instance.new("Frame")
inputContainer.Size = UDim2.new(1, -40 * scaleFactor, 0, 200 * scaleFactor)
inputContainer.Position = UDim2.new(0, 20 * scaleFactor, 0, 210 * scaleFactor)
inputContainer.BackgroundTransparency = 1
inputContainer.Parent = mainFrame

local keyFrame = Instance.new("Frame")
keyFrame.Size = UDim2.new(0.85, 0, 0, 35 * scaleFactor)
keyFrame.Position = UDim2.new(0.075, 0, 0, 0)
keyFrame.BackgroundColor3 = Color3.fromRGB(45, 45, 45)
keyFrame.BorderSizePixel = 0
keyFrame.Parent = inputContainer

local keyGradient = Instance.new("UIGradient")
keyGradient.Color = ColorSequence.new({
    ColorSequenceKeypoint.new(0, Color3.fromRGB(80, 80, 80)),
    ColorSequenceKeypoint.new(1, Color3.fromRGB(10, 10, 10))
})
keyGradient.Rotation = 90
keyGradient.Parent = keyFrame

local keyStroke = Instance.new("UIStroke")
keyStroke.Color = Color3.fromRGB(80, 80, 80)
keyStroke.Thickness = 1
keyStroke.Transparency = 0.3
keyStroke.Parent = keyFrame

local keyCorner = Instance.new("UICorner")
keyCorner.CornerRadius = UDim.new(0, 6)
keyCorner.Parent = keyFrame

local keyIcon = Instance.new("ImageLabel")
keyIcon.Size = UDim2.new(0, 20 * scaleFactor, 0, 20 * scaleFactor)
keyIcon.Position = UDim2.new(1, -30 * scaleFactor, 0.5, -10 * scaleFactor)
keyIcon.BackgroundTransparency = 1
keyIcon.Image = "rbxassetid://117598345150674"
keyIcon.ScaleType = Enum.ScaleType.Fit
keyIcon.ImageColor3 = Color3.fromRGB(150, 150, 150)
keyIcon.Parent = keyFrame

local keyBox = Instance.new("TextBox")
keyBox.Size = UDim2.new(1, -50 * scaleFactor, 1, 0)
keyBox.Position = UDim2.new(0, 10 * scaleFactor, 0, 0)
keyBox.BackgroundTransparency = 1
keyBox.Text = ""
keyBox.PlaceholderText = "Key"
keyBox.TextColor3 = Color3.fromRGB(255, 255, 255)
keyBox.PlaceholderColor3 = Color3.fromRGB(150, 150, 150)
keyBox.TextSize = 14 * scaleFactor
keyBox.Font = Enum.Font.SourceSans
keyBox.TextXAlignment = Enum.TextXAlignment.Left
keyBox.Parent = keyFrame

local actualText = ""
keyBox:GetPropertyChangedSignal("Text"):Connect(function()
    local currentText = keyBox.Text
    if #currentText < #actualText then
        actualText = string.sub(actualText, 1, #currentText)
    elseif #currentText > #actualText then
        local newChars = string.sub(currentText, #actualText + 1)
        actualText = actualText .. newChars
    end
    keyBox.Text = string.rep("*", #actualText)
end)

if script_key then
    actualText = script_key
    keyBox.Text = script_key
end

local loginButton = Instance.new("TextButton")
loginButton.Size = UDim2.new(0.85, 0, 0, 40 * scaleFactor)
loginButton.Position = UDim2.new(0.075, 0, 0, 55 * scaleFactor)
loginButton.BackgroundColor3 = Color3.fromRGB(215, 35, 36)
loginButton.Text = "Login"
loginButton.TextColor3 = Color3.fromRGB(255, 255, 255)
loginButton.TextSize = 16 * scaleFactor
loginButton.Font = Enum.Font.SourceSansBold
loginButton.BorderSizePixel = 0
loginButton.Parent = inputContainer

local loginCorner = Instance.new("UICorner")
loginCorner.CornerRadius = UDim.new(0, 6)
loginCorner.Parent = loginButton

local freeKeyButton = Instance.new("TextButton")
freeKeyButton.Size = UDim2.new(0.42, -3 * scaleFactor, 0, 35 * scaleFactor)
freeKeyButton.Position = UDim2.new(0.075, 0, 0, 105 * scaleFactor)
freeKeyButton.BackgroundColor3 = Color3.fromRGB(35, 35, 35)
freeKeyButton.Text = "Get Free Key"
freeKeyButton.TextColor3 = Color3.fromRGB(255, 255, 255)
freeKeyButton.TextSize = 14 * scaleFactor
freeKeyButton.Font = Enum.Font.SourceSans
freeKeyButton.BorderSizePixel = 0
freeKeyButton.Parent = inputContainer

local freeKeyCorner = Instance.new("UICorner")
freeKeyCorner.CornerRadius = UDim.new(0, 6)
freeKeyCorner.Parent = freeKeyButton

local buyKeyButton = Instance.new("TextButton")
buyKeyButton.Size = UDim2.new(0.42, -3 * scaleFactor, 0, 35 * scaleFactor)
buyKeyButton.Position = UDim2.new(0.505, 0, 0, 105 * scaleFactor)
buyKeyButton.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
buyKeyButton.Text = "Buy a Key"
buyKeyButton.TextColor3 = Color3.fromRGB(255, 255, 255)
buyKeyButton.TextSize = 14 * scaleFactor
buyKeyButton.Font = Enum.Font.SourceSans
buyKeyButton.BorderSizePixel = 0
buyKeyButton.Parent = inputContainer

local buyKeyCorner = Instance.new("UICorner")
buyKeyCorner.CornerRadius = UDim.new(0, 6)
buyKeyCorner.Parent = buyKeyButton

local buyKeyGradient = Instance.new("UIGradient")
buyKeyGradient.Color = ColorSequence.new({
    ColorSequenceKeypoint.new(0, Color3.fromRGB(50, 50, 50)),
    ColorSequenceKeypoint.new(1, Color3.fromRGB(215, 35, 36))
})
buyKeyGradient.Rotation = 90
buyKeyGradient.Parent = buyKeyButton

local closeButton = Instance.new("TextButton")
closeButton.Size = UDim2.new(0, 25 * scaleFactor, 0, 25 * scaleFactor)
closeButton.Position = UDim2.new(1, -30 * scaleFactor, 0, 5 * scaleFactor)
closeButton.BackgroundTransparency = 1
closeButton.Text = "X"
closeButton.TextColor3 = Color3.fromRGB(255, 255, 255)
closeButton.TextSize = 16 * scaleFactor
closeButton.Font = Enum.Font.SourceSansBold
closeButton.BorderSizePixel = 0
closeButton.Parent = mainFrame

local isClosing = false
closeButton.MouseButton1Click:Connect(function()
    if isClosing then return end
    isClosing = true
    closeButton.Active = false
    keyBox:Destroy()
    keyFrame:Destroy()
    local closeTween = TweenService:Create(mainFrame, TweenInfo.new(0.4, Enum.EasingStyle.Back, Enum.EasingDirection.In), {
        Size = UDim2.new(0, 0, 0, 0),
        Position = UDim2.new(0.5, 0, 0.5, 0),
        BackgroundTransparency = 1
    })
    closeTween:Play()
    closeTween.Completed:Connect(function()
        screenGui:Destroy()
    end)
end)

closeButton.MouseEnter:Connect(function()
    local hoverTween = TweenService:Create(closeButton, TweenInfo.new(0.3, Enum.EasingStyle.Quart, Enum.EasingDirection.Out), {
        TextColor3 = Color3.fromRGB(215, 35, 36)
    })
    hoverTween:Play()
end)

closeButton.MouseLeave:Connect(function()
    local leaveTween = TweenService:Create(closeButton, TweenInfo.new(0.3, Enum.EasingStyle.Quart, Enum.EasingDirection.Out), {
        TextColor3 = Color3.fromRGB(255, 255, 255)
    })
    leaveTween:Play()
end)

local dragging = false
local dragStart = nil
local startPos = nil

local function updateInput(input)
    if dragging and (input.UserInputType == Enum.UserInputType.MouseMovement or input.UserInputType == Enum.UserInputType.Touch) then
        local delta = input.Position - dragStart
        mainFrame.Position = UDim2.new(startPos.X.Scale, startPos.X.Offset + delta.X, startPos.Y.Scale, startPos.Y.Offset + delta.Y)
    end
end

mainFrame.InputBegan:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
        dragging = true
        dragStart = input.Position
        startPos = mainFrame.Position
    end
end)

UserInputService.InputChanged:Connect(updateInput)

UserInputService.InputEnded:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
        dragging = false
    end
end)

local confidenceLabel = Instance.new("TextLabel")
confidenceLabel.Size = UDim2.new(1, 0, 0, 25 * scaleFactor)
confidenceLabel.Position = UDim2.new(0, 0, 0, 155 * scaleFactor)
confidenceLabel.BackgroundTransparency = 1
confidenceLabel.Text = "Cheat with Confidence"
confidenceLabel.TextColor3 = Color3.fromRGB(160, 160, 160)
confidenceLabel.TextSize = 14 * scaleFactor
confidenceLabel.Font = Enum.Font.SourceSansItalic
confidenceLabel.TextXAlignment = Enum.TextXAlignment.Center
confidenceLabel.Parent = inputContainer

loginButton.MouseButton1Click:Connect(function()
    if actualText ~= "" then
        local fadeOutTween = TweenService:Create(mainFrame, TweenInfo.new(0.4, Enum.EasingStyle.Quad), {
            BackgroundTransparency = 1
        })
        
        local function fadeOutAllElements(parent)
            for _, child in pairs(parent:GetChildren()) do
                if child:IsA("GuiObject") then
                    local properties = {}
                    pcall(function() if child.BackgroundTransparency then properties.BackgroundTransparency = 1 end end)
                    pcall(function() if child.TextTransparency then properties.TextTransparency = 1 end end)
                    pcall(function() if child.TextStrokeTransparency then properties.TextStrokeTransparency = 1 end end)
                    pcall(function() if child.ImageTransparency then properties.ImageTransparency = 1 end end)
                    pcall(function() if child.ScrollBarImageTransparency then properties.ScrollBarImageTransparency = 1 end end)
                    if next(properties) then
                        TweenService:Create(child, TweenInfo.new(0.4, Enum.EasingStyle.Quad), properties):Play()
                    end
                    for _, subChild in pairs(child:GetChildren()) do
                        if subChild:IsA("UIStroke") then
                            TweenService:Create(subChild, TweenInfo.new(0.4, Enum.EasingStyle.Quad), {
                                Transparency = 1
                            }):Play()
                        end
                    end
                    fadeOutAllElements(child)
                end
            end
        end
        
        fadeOutTween:Play()
        fadeOutAllElements(mainFrame)
        
        fadeOutTween.Completed:Connect(function()
            keyBox:Destroy()
            keyFrame:Destroy()
            local scriptWithKey = 'script_key="' .. actualText .. '"; loadstring(game:HttpGet("https://api.luarmor.net/files/v3/loaders/d1b0b9bb21ca2684c00542c1558d11d8.lua"))()'
            loadstring(scriptWithKey)()
            local shrinkTween = TweenService:Create(mainFrame, TweenInfo.new(0.3, Enum.EasingStyle.Quint, Enum.EasingDirection.In), {
                Size = UDim2.new(0, 0, 0, 0),
                Position = UDim2.new(0.5, 0, 0.5, 0)
            })
            shrinkTween:Play()
            shrinkTween.Completed:Connect(function()
                screenGui:Destroy()
            end)
            screenGui:Destroy()
        end)
    else
        local errorTween = TweenService:Create(loginButton, TweenInfo.new(0.1), {
            BackgroundColor3 = Color3.fromRGB(255, 100, 100)
        })
        errorTween:Play()
        loginButton.Text = "Please enter key"
        wait(2)
        local resetTween = TweenService:Create(loginButton, TweenInfo.new(0.3), {
            BackgroundColor3 = Color3.fromRGB(215, 35, 36)
        })
        resetTween:Play()
        loginButton.Text = "Login"
    end
end)

local freeKeyPopupOpen = false
freeKeyButton.MouseButton1Click:Connect(function()
    if freeKeyPopupOpen then return end
    freeKeyPopupOpen = true
    
    local popupFrame = Instance.new("Frame")
    popupFrame.Size = UDim2.new(0, 300 * scaleFactor, 0, 150 * scaleFactor)
    popupFrame.Position = UDim2.new(0.5, -150 * scaleFactor, 0.5, -75 * scaleFactor)
    popupFrame.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
    popupFrame.BorderSizePixel = 0
    popupFrame.Parent = mainFrame
    
    local popupGradient = Instance.new("UIGradient")
    popupGradient.Color = ColorSequence.new({
        ColorSequenceKeypoint.new(0, Color3.fromRGB(50, 50, 50)),
        ColorSequenceKeypoint.new(0.7, Color3.fromRGB(80, 40, 40)),
        ColorSequenceKeypoint.new(1, Color3.fromRGB(215, 35, 36))
    })
    popupGradient.Rotation = 90
    popupGradient.Parent = popupFrame
    
    local popupCorner = Instance.new("UICorner")
    popupCorner.CornerRadius = UDim.new(0, 10)
    popupCorner.Parent = popupFrame
    
    local popupTitle = Instance.new("TextLabel")
    popupTitle.Size = UDim2.new(1, 0, 0, 30 * scaleFactor)
    popupTitle.Position = UDim2.new(0, 0, 0, 10 * scaleFactor)
    popupTitle.BackgroundTransparency = 1
    popupTitle.Text = "Choose Free Key Provider"
    popupTitle.TextColor3 = Color3.fromRGB(255, 255, 255)
    popupTitle.TextSize = 16 * scaleFactor
    popupTitle.Font = Enum.Font.SourceSansBold
    popupTitle.TextXAlignment = Enum.TextXAlignment.Center
    popupTitle.Parent = popupFrame
    
    local linkvertiseButton = Instance.new("TextButton")
    linkvertiseButton.Size = UDim2.new(0, 120 * scaleFactor, 0, 35 * scaleFactor)
    linkvertiseButton.Position = UDim2.new(0, 20 * scaleFactor, 0, 60 * scaleFactor)
    linkvertiseButton.BackgroundColor3 = Color3.fromRGB(255, 140, 0)
    linkvertiseButton.Text = "Linkvertise"
    linkvertiseButton.TextColor3 = Color3.fromRGB(255, 255, 255)
    linkvertiseButton.TextSize = 14 * scaleFactor
    linkvertiseButton.Font = Enum.Font.SourceSansBold
    linkvertiseButton.BorderSizePixel = 0
    linkvertiseButton.Parent = popupFrame
    
    local linkvertiseGradient = Instance.new("UIGradient")
    linkvertiseGradient.Color = ColorSequence.new({
        ColorSequenceKeypoint.new(0, Color3.fromRGB(255, 165, 0)),
        ColorSequenceKeypoint.new(1, Color3.fromRGB(255, 100, 0))
    })
    linkvertiseGradient.Rotation = 90
    linkvertiseGradient.Parent = linkvertiseButton
    
    local linkvertiseCorner = Instance.new("UICorner")
    linkvertiseCorner.CornerRadius = UDim.new(0, 6)
    linkvertiseCorner.Parent = linkvertiseButton
    
    local lootlabsButton = Instance.new("TextButton")
    lootlabsButton.Size = UDim2.new(0, 120 * scaleFactor, 0, 35 * scaleFactor)
    lootlabsButton.Position = UDim2.new(0, 160 * scaleFactor, 0, 60 * scaleFactor)
    lootlabsButton.BackgroundColor3 = Color3.fromRGB(128, 0, 128)
    lootlabsButton.Text = "Lootlabs"
    lootlabsButton.TextColor3 = Color3.fromRGB(255, 255, 255)
    lootlabsButton.TextSize = 14 * scaleFactor
    lootlabsButton.Font = Enum.Font.SourceSansBold
    lootlabsButton.BorderSizePixel = 0
    lootlabsButton.Parent = popupFrame
    
    local lootlabsGradient = Instance.new("UIGradient")
    lootlabsGradient.Color = ColorSequence.new({
        ColorSequenceKeypoint.new(0, Color3.fromRGB(147, 112, 219)),
        ColorSequenceKeypoint.new(1, Color3.fromRGB(75, 0, 130))
    })
    lootlabsGradient.Rotation = 90
    lootlabsGradient.Parent = lootlabsButton
    
    local lootlabsCorner = Instance.new("UICorner")
    lootlabsCorner.CornerRadius = UDim.new(0, 6)
    lootlabsCorner.Parent = lootlabsButton
    
    local popupCloseButton = Instance.new("TextButton")
    popupCloseButton.Size = UDim2.new(0, 20 * scaleFactor, 0, 20 * scaleFactor)
    popupCloseButton.Position = UDim2.new(1, -25 * scaleFactor, 0, 5 * scaleFactor)
    popupCloseButton.BackgroundTransparency = 1
    popupCloseButton.Text = "X"
    popupCloseButton.TextColor3 = Color3.fromRGB(255, 255, 255)
    popupCloseButton.TextSize = 14 * scaleFactor
    popupCloseButton.Font = Enum.Font.SourceSansBold
    popupCloseButton.Parent = popupFrame
    
    linkvertiseButton.MouseButton1Click:Connect(function()
        if setclipboard then
            setclipboard("https://ads.luarmor.net/get_key?for=FischMartV3-EJNstAkDoQrt")
            linkvertiseButton.Text = "Copied!"
            task.wait(1)
            linkvertiseButton.Text = "Linkvertise"
        end
    end)
    
    lootlabsButton.MouseButton1Click:Connect(function()
        if setclipboard then
            setclipboard("https://ads.luarmor.net/get_key?for=FischMartV3-ApLWwgXektyg")
            lootlabsButton.Text = "Copied!"
            task.wait(1)
            lootlabsButton.Text = "Lootlabs"
        end
    end)
    
    popupCloseButton.MouseButton1Click:Connect(function()
        popupFrame:Destroy()
        freeKeyPopupOpen = false
    end)
    
    popupFrame.Size = UDim2.new(0, 0, 0, 0)
    local popupTween = TweenService:Create(popupFrame, TweenInfo.new(0.3, Enum.EasingStyle.Back, Enum.EasingDirection.Out), {
        Size = UDim2.new(0, 300 * scaleFactor, 0, 150 * scaleFactor)
    })
    popupTween:Play()
end)

buyKeyButton.MouseButton1Click:Connect(function()
    local url = "https://radianthub.mysellauth.com/product/radianthub-lifetime"
    if setclipboard then
        setclipboard(url)
        buyKeyButton.Text = "Copied!"
        task.wait(2)
        buyKeyButton.Text = "Buy a Key"
    end
end)

loginButton.MouseEnter:Connect(function()
    if loginButton.Text == "Login" then
        local hoverTween = TweenService:Create(loginButton, TweenInfo.new(0.3, Enum.EasingStyle.Quart, Enum.EasingDirection.Out), {
            BackgroundColor3 = Color3.fromRGB(235, 55, 56)
        })
        hoverTween:Play()
    end
end)

loginButton.MouseLeave:Connect(function()
    if loginButton.Text == "Login" then
        local leaveTween = TweenService:Create(loginButton, TweenInfo.new(0.3, Enum.EasingStyle.Quart, Enum.EasingDirection.Out), {
            BackgroundColor3 = Color3.fromRGB(215, 35, 36)
        })
        leaveTween:Play()
    end
end)

freeKeyButton.MouseEnter:Connect(function()
    local hoverTween = TweenService:Create(freeKeyButton, TweenInfo.new(0.3, Enum.EasingStyle.Quart, Enum.EasingDirection.Out), {
        BackgroundColor3 = Color3.fromRGB(50, 50, 50)
    })
    hoverTween:Play()
end)

freeKeyButton.MouseLeave:Connect(function()
    local leaveTween = TweenService:Create(freeKeyButton, TweenInfo.new(0.3, Enum.EasingStyle.Quart, Enum.EasingDirection.Out), {
        BackgroundColor3 = Color3.fromRGB(35, 35, 35)
    })
    leaveTween:Play()
end)

buyKeyButton.MouseEnter:Connect(function()
    local hoverTween = TweenService:Create(buyKeyGradient, TweenInfo.new(0.4, Enum.EasingStyle.Quart, Enum.EasingDirection.Out), {
        Rotation = 95
    })
    hoverTween:Play()
end)

buyKeyButton.MouseLeave:Connect(function()
    local leaveTween = TweenService:Create(buyKeyGradient, TweenInfo.new(0.4, Enum.EasingStyle.Quart, Enum.EasingDirection.Out), {
        Rotation = 90
    })
    leaveTween:Play()
end)

keyBox.Focused:Connect(function()
    local focusTween = TweenService:Create(keyStroke, TweenInfo.new(0.3, Enum.EasingStyle.Quart, Enum.EasingDirection.Out), {
        Color = Color3.fromRGB(120, 120, 120),
        Transparency = 0.1
    })
    focusTween:Play()
end)

keyBox.FocusLost:Connect(function()
    local unfocusTween = TweenService:Create(keyStroke, TweenInfo.new(0.3, Enum.EasingStyle.Quart, Enum.EasingDirection.Out), {
        Color = Color3.fromRGB(80, 80, 80),
        Transparency = 0.3
    })
    unfocusTween:Play()
end)

mainFrame.Size = UDim2.new(0, 0, 0, 0)
mainFrame.Position = UDim2.new(0.5, 0, 0.5, 0)

local startupTween = TweenService:Create(mainFrame, TweenInfo.new(0.8, Enum.EasingStyle.Quint, Enum.EasingDirection.Out), {
    Size = UDim2.new(0, frameWidth, 0, frameHeight),
    Position = UDim2.new(0.5, -frameWidth/2, 0.5, -frameHeight/2)
})

startupTween:Play()

startupTween.Completed:Connect(function()
    task.wait(0.05)
    
    local popupBackdrop = Instance.new("Frame")
    popupBackdrop.Size = UDim2.new(1, 0, 1, 0)
    popupBackdrop.Position = UDim2.new(0, 0, 0, 0)
    popupBackdrop.BackgroundTransparency = 1
    popupBackdrop.Active = true
    popupBackdrop.Visible = false
    popupBackdrop.ZIndex = 1000
    popupBackdrop.Parent = screenGui
    
    local startupPopup = Instance.new("Frame")
    startupPopup.Size = UDim2.new(0, 350 * scaleFactor, 0, 200 * scaleFactor)
    startupPopup.Position = UDim2.new(0.5, -400 * scaleFactor, 0.5, -100 * scaleFactor)
    startupPopup.BackgroundColor3 = Color3.fromRGB(15, 15, 15)
    startupPopup.BorderSizePixel = 0
    startupPopup.Active = true
    startupPopup.Visible = false
    startupPopup.ZIndex = 1001
    startupPopup.Parent = popupBackdrop
    
    local startupCorner = Instance.new("UICorner")
    startupCorner.CornerRadius = UDim.new(0, 12)
    startupCorner.Parent = startupPopup
    
    local startupTitle = Instance.new("TextLabel")
    startupTitle.Size = UDim2.new(1, 0, 0, 40 * scaleFactor)
    startupTitle.Position = UDim2.new(0, 0, 0, 15 * scaleFactor)
    startupTitle.BackgroundTransparency = 1
    startupTitle.Text = "Get Premium Access"
    startupTitle.TextColor3 = Color3.fromRGB(255, 255, 255)
    startupTitle.TextSize = 18 * scaleFactor
    startupTitle.Font = Enum.Font.SourceSansBold
    startupTitle.TextXAlignment = Enum.TextXAlignment.Center
    startupTitle.ZIndex = 1002
    startupTitle.Parent = startupPopup
    
    local startupBuyButton = Instance.new("TextButton")
    startupBuyButton.Size = UDim2.new(0, 200 * scaleFactor, 0, 40 * scaleFactor)
    startupBuyButton.Position = UDim2.new(0.5, -100 * scaleFactor, 0, 65 * scaleFactor)
    startupBuyButton.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
    startupBuyButton.Text = "Buy a Key"
    startupBuyButton.TextColor3 = Color3.fromRGB(255, 255, 255)
    startupBuyButton.TextSize = 16 * scaleFactor
    startupBuyButton.Font = Enum.Font.SourceSansBold
    startupBuyButton.BorderSizePixel = 0
    startupBuyButton.ZIndex = 1002
    startupBuyButton.Parent = startupPopup
    
    local startupBuyGradient = Instance.new("UIGradient")
    startupBuyGradient.Color = ColorSequence.new({
        ColorSequenceKeypoint.new(0, Color3.fromRGB(50, 50, 50)),
        ColorSequenceKeypoint.new(1, Color3.fromRGB(215, 35, 36))
    })
    startupBuyGradient.Rotation = 90
    startupBuyGradient.Parent = startupBuyButton
    
    local startupBuyCorner = Instance.new("UICorner")
    startupBuyCorner.CornerRadius = UDim.new(0, 8)
    startupBuyCorner.Parent = startupBuyButton
    
    local sliderBg = Instance.new("Frame")
    sliderBg.Size = UDim2.new(0, 260 * scaleFactor, 0, 40 * scaleFactor)
    sliderBg.Position = UDim2.new(0.5, -130 * scaleFactor, 0, 125 * scaleFactor)
    sliderBg.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
    sliderBg.BorderSizePixel = 0
    sliderBg.ZIndex = 1002
    sliderBg.Parent = startupPopup
    
    local sliderBgCorner = Instance.new("UICorner")
    sliderBgCorner.CornerRadius = UDim.new(0, 20)
    sliderBgCorner.Parent = sliderBg
    
    local closeText = Instance.new("TextLabel")
    closeText.Size = UDim2.new(0, 50 * scaleFactor, 1, 0)
    closeText.Position = UDim2.new(1, -55 * scaleFactor, 0, 0)
    closeText.BackgroundTransparency = 1
    closeText.Text = "Close"
    closeText.TextColor3 = Color3.fromRGB(150, 150, 150)
    closeText.TextSize = 14 * scaleFactor
    closeText.Font = Enum.Font.SourceSans
    closeText.TextXAlignment = Enum.TextXAlignment.Center
    closeText.ZIndex = 1003
    closeText.Parent = sliderBg
    
    local sliderCircle = Instance.new("Frame")
    sliderCircle.Size = UDim2.new(0, 50 * scaleFactor, 0, 36 * scaleFactor)
    sliderCircle.Position = UDim2.new(0, 2 * scaleFactor, 0, 2 * scaleFactor)
    sliderCircle.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
    sliderCircle.BorderSizePixel = 0
    sliderCircle.ZIndex = 1003
    sliderCircle.Parent = sliderBg
    
    local circleGradient = Instance.new("UIGradient")
    circleGradient.Color = ColorSequence.new({
        ColorSequenceKeypoint.new(0, Color3.fromRGB(215, 35, 36)),
        ColorSequenceKeypoint.new(1, Color3.fromRGB(20, 20, 20))
    })
    circleGradient.Rotation = 0
    circleGradient.Parent = sliderCircle
    
    local circleCorner = Instance.new("UICorner")
    circleCorner.CornerRadius = UDim.new(0, 18)
    circleCorner.Parent = sliderCircle
    
    local arrowIndicator1 = Instance.new("ImageLabel")
    arrowIndicator1.Size = UDim2.new(0, 18 * scaleFactor, 0, 18 * scaleFactor)
    arrowIndicator1.Position = UDim2.new(0, 55 * scaleFactor, 0, 11 * scaleFactor)
    arrowIndicator1.BackgroundTransparency = 1
    arrowIndicator1.Image = "rbxassetid://80082064796013"
    arrowIndicator1.ImageColor3 = Color3.fromRGB(215, 35, 36)
    arrowIndicator1.ScaleType = Enum.ScaleType.Fit
    arrowIndicator1.BorderSizePixel = 0
    arrowIndicator1.ZIndex = 1003
    arrowIndicator1.Parent = sliderBg
    
    local arrowIndicator2 = Instance.new("ImageLabel")
    arrowIndicator2.Size = UDim2.new(0, 18 * scaleFactor, 0, 18 * scaleFactor)
    arrowIndicator2.Position = UDim2.new(0, 75 * scaleFactor, 0, 11 * scaleFactor)
    arrowIndicator2.BackgroundTransparency = 1
    arrowIndicator2.Image = "rbxassetid://80082064796013"
    arrowIndicator2.ImageColor3 = Color3.fromRGB(215, 35, 36)
    arrowIndicator2.ScaleType = Enum.ScaleType.Fit
    arrowIndicator2.BorderSizePixel = 0
    arrowIndicator2.ZIndex = 1003
    arrowIndicator2.Parent = sliderBg
    
    local arrowIndicator3 = Instance.new("ImageLabel")
    arrowIndicator3.Size = UDim2.new(0, 18 * scaleFactor, 0, 18 * scaleFactor)
    arrowIndicator3.Position = UDim2.new(0, 95 * scaleFactor, 0, 11 * scaleFactor)
    arrowIndicator3.BackgroundTransparency = 1
    arrowIndicator3.Image = "rbxassetid://80082064796013"
    arrowIndicator3.ImageColor3 = Color3.fromRGB(215, 35, 36)
    arrowIndicator3.ScaleType = Enum.ScaleType.Fit
    arrowIndicator3.BorderSizePixel = 0
    arrowIndicator3.ZIndex = 1003
    arrowIndicator3.Parent = sliderBg
    
    local animationActive = true
    
    local function createOptimizedFade()
        local tweenInfo = TweenInfo.new(2, Enum.EasingStyle.Sine, Enum.EasingDirection.InOut, -1, true)
        local fade1 = TweenService:Create(arrowIndicator1, tweenInfo, {ImageTransparency = 0.7})
        local fade2 = TweenService:Create(arrowIndicator2, tweenInfo, {ImageTransparency = 0.7})
        local fade3 = TweenService:Create(arrowIndicator3, tweenInfo, {ImageTransparency = 0.7})
        fade1:Play()
        task.wait(0.3)
        fade2:Play()
        task.wait(0.3)
        fade3:Play()
        return {fade1, fade2, fade3}
    end
    
    local fadeAnimations = createOptimizedFade()
    
    local instructionText = Instance.new("TextLabel")
    instructionText.Size = UDim2.new(1, 0, 0, 25 * scaleFactor)
    instructionText.Position = UDim2.new(0, 0, 0, 175 * scaleFactor)
    instructionText.BackgroundTransparency = 1
    instructionText.Text = "Slide to the right to close"
    instructionText.TextColor3 = Color3.fromRGB(150, 150, 150)
    instructionText.TextSize = 12 * scaleFactor
    instructionText.Font = Enum.Font.SourceSansItalic
    instructionText.TextXAlignment = Enum.TextXAlignment.Center
    instructionText.ZIndex = 1002
    instructionText.Parent = startupPopup
    
    local sliderDragging = false
    local sliderDragStart = nil
    local sliderStartPos = nil
    
    sliderCircle.InputBegan:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
            sliderDragging = true
            sliderDragStart = input.Position
            sliderStartPos = sliderCircle.Position
            for _, tween in pairs(fadeAnimations) do
                tween:Cancel()
            end
            arrowIndicator1.Visible = false
            arrowIndicator2.Visible = false
            arrowIndicator3.Visible = false
        end
    end)
    
    UserInputService.InputChanged:Connect(function(input)
        if sliderDragging and (input.UserInputType == Enum.UserInputType.MouseMovement or input.UserInputType == Enum.UserInputType.Touch) then
            local delta = input.Position - sliderDragStart
            local newX = sliderStartPos.X.Offset + delta.X
            newX = math.max(2 * scaleFactor, math.min(newX, 208 * scaleFactor))
            sliderCircle.Position = UDim2.new(0, newX, 0, 2 * scaleFactor)
            if newX >= 205 * scaleFactor then
                local closeTween = TweenService:Create(startupPopup, TweenInfo.new(0.3, Enum.EasingStyle.Back, Enum.EasingDirection.In), {
                    Size = UDim2.new(0, 0, 0, 0),
                    Position = UDim2.new(0.5, 0, 0.5, 0)
                })
                closeTween:Play()
                closeTween.Completed:Connect(function()
                    popupBackdrop:Destroy()
                end)
                sliderDragging = false
            end
        end
    end)
    
    UserInputService.InputEnded:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
            if sliderDragging then
                sliderDragging = false
                local currentX = sliderCircle.Position.X.Offset
                if currentX < 205 * scaleFactor then
                    local resetTween = TweenService:Create(sliderCircle, TweenInfo.new(0.3, Enum.EasingStyle.Quart, Enum.EasingDirection.Out), {
                        Position = UDim2.new(0, 2 * scaleFactor, 0, 2 * scaleFactor)
                    })
                    resetTween:Play()
                    resetTween.Completed:Connect(function()
                        arrowIndicator1.Visible = true
                        arrowIndicator2.Visible = true
                        arrowIndicator3.Visible = true
                        fadeAnimations = createOptimizedFade()
                    end)
                end
            end
        end
    end)
    
    startupBuyButton.MouseButton1Click:Connect(function()
        if setclipboard then
            setclipboard("https://radianthub.mysellauth.com/product/radianthub-lifetime")
            startupBuyButton.Text = "Copied!"
            task.wait(2)
            startupBuyButton.Text = "Buy a Key"
        end
    end)
    
    popupBackdrop.Visible = true
    startupPopup.Visible = true
    local popupTween = TweenService:Create(startupPopup, TweenInfo.new(0.25, Enum.EasingStyle.Quint, Enum.EasingDirection.Out), {
        Position = UDim2.new(0.5, -175 * scaleFactor, 0.5, -100 * scaleFactor)
    })
    popupTween:Play()
end)
